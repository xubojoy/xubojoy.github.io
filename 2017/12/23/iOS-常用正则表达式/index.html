<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>iOS 常用正则表达式 | 枫林飘雪</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="正则的知识常常用到，有用的东西就要记录下来，现在做下整理！">
<meta name="keywords" content="ios">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS 常用正则表达式">
<meta property="og:url" content="http://xubojoy.cn/2017/12/23/iOS-常用正则表达式/index.html">
<meta property="og:site_name" content="枫林飘雪">
<meta property="og:description" content="正则的知识常常用到，有用的东西就要记录下来，现在做下整理！">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://xubojoy.cn/2017/12/23/iOS-常用正则表达式/reg.jpeg">
<meta property="og:updated_time" content="2018-10-24T08:20:22.397Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS 常用正则表达式">
<meta name="twitter:description" content="正则的知识常常用到，有用的东西就要记录下来，现在做下整理！">
<meta name="twitter:image" content="http://xubojoy.cn/2017/12/23/iOS-常用正则表达式/reg.jpeg">
  
    <link rel="alternate" href="/atom.xml" title="枫林飘雪" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">枫林飘雪</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">成事不说，遂事不谏，既往不咎!   继续修行！！！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xubojoy.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-iOS-常用正则表达式" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/23/iOS-常用正则表达式/" class="article-date">
  <time datetime="2017-12-23T07:22:30.000Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ios/">ios</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      iOS 常用正则表达式
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2017/12/23/iOS-常用正则表达式/reg.jpeg" alt="正则"></p>
<p>正则的知识常常用到，有用的东西就要记录下来，现在做下整理！</p>
<a id="more"></a>
<pre>
/** 
 *  正则表达式简单说明 
 *  语法： 
 .       匹配除换行符以外的任意字符 
 \\w      匹配字母或数字或下划线或汉字 
 \\s      匹配任意的空白符 
 \\d      匹配数字 
 \\b      匹配单词的开始或结束 
 ^       匹配字符串的开始 
 $       匹配字符串的结束 
 *       重复零次或更多次 
 +       重复一次或更多次 
 ?       重复零次或一次 
 {n}     重复n次 
 {n,}     重复n次或更多次 
 {n,m}     重复n到m次 
 \\W      匹配任意不是字母，数字，下划线，汉字的字符 
 \\S      匹配任意不是空白符的字符 
 \\D      匹配任意非数字的字符 
 \\B      匹配不是单词开头或结束的位置 
 [^x]     匹配除了x以外的任意字符 
 [^aeiou]匹配除了aeiou这几个字母以外的任意字符 
 *?      重复任意次，但尽可能少重复 
 +?      重复1次或更多次，但尽可能少重复 
 ??      重复0次或1次，但尽可能少重复 
 {n,m}?     重复n到m次，但尽可能少重复 
 {n,}?     重复n次以上，但尽可能少重复 
 \\a      报警字符(打印它的效果是电脑嘀一声) 
 \\b      通常是单词分界位置，但如果在字符类里使用代表退格 
 \\t      制表符，Tab 
 \\r      回车 
 \\v      竖向制表符 
 \\f      换页符 
 \\n      换行符 
 \\e      Escape 
 \\0nn     ASCII代码中八进制代码为nn的字符 
 \\xnn     ASCII代码中十六进制代码为nn的字符 
 \\unnnn     Unicode代码中十六进制代码为nnnn的字符 
 \\cN     ASCII控制字符。比如\\cC代表Ctrl+C 
 \\A      字符串开头(类似^，但不受处理多行选项的影响) 
 \\Z      字符串结尾或行尾(不受处理多行选项的影响) 
 \\z      字符串结尾(类似$，但不受处理多行选项的影响) 
 \\G      当前搜索的开头 
 \\p{name}     Unicode中命名为name的字符类，例如\\p{IsGreek} 
 (?>exp)     贪婪子表达式 
 (?<x>-<y>exp)     平衡组 
 (?im-nsx:exp)     在子表达式exp中改变处理选项 
 (?im-nsx)       为表达式后面的部分改变处理选项 
 (?(exp)yes|no)     把exp当作零宽正向先行断言，如果在这个位置能匹配，使用yes作为此组的表达式；否则使用no 
 (?(exp)yes)     同上，只是使用空表达式作为no 
 (?(name)yes|no) 如果命名为name的组捕获到了内容，使用yes作为表达式；否则使用no 
 (?(name)yes)     同上，只是使用空表达式作为no 

 捕获 
 (exp)               匹配exp,并捕获文本到自动命名的组里 
 (?<name>exp)        匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp) 
 (?:exp)             匹配exp,不捕获匹配的文本，也不给此分组分配组号 
 零宽断言 
 (?=exp)             匹配exp前面的位置 
 (?<=exp) 匹配exp后面的位置="" (?!exp)="" 匹配后面跟的不是exp的位置="" (?<!exp)="" 匹配前面不是exp的位置="" 注释="" (?#comment)="" 这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读="" *="" <="" pre="">

<h4 id="手机号正则"><a href="#手机号正则" class="headerlink" title="手机号正则"></a>手机号正则</h4><pre>
//因为各个运营商开头号码不同，这里只匹配11位是比较好的方法  
- (BOOL)isValidPhoneNumber {  
    NSString *regex = @"^[0-9]{11}";  
    return [self isValidateByRegex:regex];  
}  


//或者精确点，但需要根据运营商更新  
- (BOOL)wl_isMobileNumberClassification {  
    /** 
     * 手机号码 
     * 移动：134[0-8],135,136,137,138,139,150,151,157,158,159,182,187,188,1705 
     * 联通：130,131,132,152,155,156,185,186,1709 
     * 电信：133,1349,153,180,189,1700 
     */  

    /** 
     10         * 中国移动：China Mobile 
     11         * 134[0-8],135,136,137,138,139,150,151,157,158,159,182,187,188，1705 
     12       
     */  
    NSString * CM = @"^1(34[0-8]|(3[5-9]|5[017-9]|8[278])\\\\d|705)\\\\d{7}$";  
    /** 
     15         * 中国联通：China Unicom 
     16         * 130,131,132,152,155,156,185,186,1709 
     17         
     */  
    NSString * CU = @"^1((3[0-2]|5[256]|8[56])\\\\d|709)\\\\d{7}$";  
    /** 
     20         * 中国电信：China Telecom 
     21         * 133,1349,153,180,189,1700 
     22          
     */  
    NSString * CT = @"^1((33|53|8[09])\\\\d|349|700)\\\\d{7}$";  
    /** 
     25         * 大陆地区固话及小灵通 
     26         * 区号：010,020,021,022,023,024,025,027,028,029 
     27         * 号码：七位或八位 
     28          
     */  
    NSString * PHS = @"^0(10|2[0-5789]|\\\\d{3})\\\\d{7,8}$";  

    if (([self isValidateByRegex:CM])  
        || ([self isValidateByRegex:CU])  
        || ([self isValidateByRegex:CT])  
        || ([self isValidateByRegex:PHS])) {  
        return YES;  
    }else {  
        return NO;  
    }  
} 
</pre>

<h4 id="邮箱的有效性验证"><a href="#邮箱的有效性验证" class="headerlink" title="邮箱的有效性验证"></a>邮箱的有效性验证</h4><pre>
- (BOOL)isEmailAddress {  
    NSString *emailRegex = @"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,4}";  
    return [self isValidateByRegex:emailRegex];  
}  
</pre>

<h4 id="网页地址的有效性"><a href="#网页地址的有效性" class="headerlink" title="网页地址的有效性"></a>网页地址的有效性</h4><pre>
- (BOOL)isValidUrl {  
    NSString * regex = @"\\\\b((ftp|http|https?):\\\\/\\\\/[-\\\\w]+(\\\\.\\\\w[-\\\\w]*)+|(?i:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\\\\.)+(?-i:com\\\\b|edu\\\\b|biz\\\\b|gov\\\\b|in(?:t|fo)\\\\b|mil\\\\b|net\\\\b|org\\\\b|[a-z][a-z]\\\\b))(:\\\\d+)?(/[^.!,?;\\"'<>()\\\\[\\\\]{}\\\\s\\\\x7F-\\\\xFF]*(?:[.!,?]+[^.!,?;\\"'<>()\\\\[\\\\]{}\\\\s\\\\x7F-\\\\xFF]+)*)?";  
    return [self isValidateByRegex:regex];  
}  
</pre>

<h4 id="简单的身份证有效性"><a href="#简单的身份证有效性" class="headerlink" title="简单的身份证有效性"></a>简单的身份证有效性</h4><h5 id="版本一"><a href="#版本一" class="headerlink" title="版本一"></a>版本一</h5><pre>
- (BOOL)simpleVerifyIdentityCardNum {  
    NSString *regex2 = @"^(\\\\d{14}|\\\\d{17})(\\\\d|[xX])$";  
    return [self isValidateByRegex:regex2];  
} 
</pre>

<h5 id="版本二（OC）"><a href="#版本二（OC）" class="headerlink" title="版本二（OC）"></a>版本二（OC）</h5><pre>
-(BOOL)validateIDCardNumber:(NSString *)value {
　  　 
　  　 value = [value stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
　  　 NSInteger length =0;
　  　 if (!value) {
　  　 return NO;
　  　 }else {
　  　 length = value.length;
　  　 //不满足15位和18位，即身份证错误
　  　 if (length !=15 && length !=18) {
　  　 return NO;
　  　 }
　  　 }
　  　 // 省份代码
　  　 NSArray *areasArray = @[@"11",@"12", @"13",@"14", @"15",@"21", @"22",@"23", @"31",@"32", @"33",@"34", @"35",@"36", @"37",@"41", @"42",@"43", @"44",@"45", @"46",@"50", @"51",@"52", @"53",@"54", @"61",@"62", @"63",@"64", @"65",@"71", @"81",@"82", @"91"];
　  　 
　  　 // 检测省份身份行政区代码
　  　 NSString *valueStart2 = [value substringToIndex:2];
　  　 BOOL areaFlag =NO; //标识省份代码是否正确
　  　 for (NSString *areaCode in areasArray) {
　  　 if ([areaCode isEqualToString:valueStart2]) {
　  　 areaFlag =YES;
　  　 break;
　  　 }
　  　 }
　  　 
　  　 if (!areaFlag) {
　  　 return NO;
　  　 }
　  　 
　  　 NSRegularExpression *regularExpression;
　  　 NSUInteger numberofMatch;
　  　 
　  　 int year =0;
　  　 //分为15位、18位身份证进行校验
　  　 switch (length) {
　  　 case 15:
　  　 //获取年份对应的数字
　  　 year = [value substringWithRange:NSMakeRange(6,2)].intValue +1900;
　  　 
　  　 if (year %4 ==0 || (year %100 ==0 && year %4 ==0)) {
　  　 //创建正则表达式 NSRegularExpressionCaseInsensitive：不区分字母大小写的模式
　  　 regularExpression = [[NSRegularExpression alloc]initWithPattern:@"^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$"
　  　 options:NSRegularExpressionCaseInsensitive error:nil];//测试出生日期的合法性
　  　 }else {
　  　 regularExpression = [[NSRegularExpression alloc]initWithPattern:@"^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$"
　  　 options:NSRegularExpressionCaseInsensitive error:nil];//测试出生日期的合法性
　  　 }
　  　 //使用正则表达式匹配字符串 NSMatchingReportProgress:找到最长的匹配字符串后调用block回调
　  　 numberofMatch = [regularExpression numberOfMatchesInString:value
　  　 options:NSMatchingReportProgress
　  　 range:NSMakeRange(0, value.length)];
　  　 
　  　 if(numberofMatch >0) {
　  　 return YES;
　  　 }else {
　  　 return NO;
　  　 }
　  　 case 18:
　  　 year = [value substringWithRange:NSMakeRange(6,4)].intValue;
　  　 if (year %4 ==0 || (year %100 ==0 && year %4 ==0)) {
　  　 regularExpression = [[NSRegularExpression alloc]initWithPattern:@"^((1[1-5])|(2[1-3])|(3[1-7])|(4[1-6])|(5[0-4])|(6[1-5])|71|(8[12])|91)\\d{4}(((19|20)\\d{2}(0[13-9]|1[012])(0[1-9]|[12]\\d|30))|((19|20)\\d{2}(0[13578]|1[02])31)|((19|20)\\d{2}02(0[1-9]|1\\d|2[0-8]))|((19|20)([13579][26]|[2468][048]|0[048])0229))\\d{3}(\\d|X|x)?$" options:NSRegularExpressionCaseInsensitive error:nil];//测试出生日期的合法性
　  　 }else {
　  　 regularExpression = [[NSRegularExpression alloc]initWithPattern:@"^((1[1-5])|(2[1-3])|(3[1-7])|(4[1-6])|(5[0-4])|(6[1-5])|71|(8[12])|91)\\d{4}(((19|20)\\d{2}(0[13-9]|1[012])(0[1-9]|[12]\\d|30))|((19|20)\\d{2}(0[13578]|1[02])31)|((19|20)\\d{2}02(0[1-9]|1\\d|2[0-8]))|((19|20)([13579][26]|[2468][048]|0[048])0229))\\d{3}(\\d|X|x)?$" options:NSRegularExpressionCaseInsensitive error:nil];//测试出生日期的合法性
　  　 }
　  　 numberofMatch = [regularExpression numberOfMatchesInString:value
　  　 options:NSMatchingReportProgress
　  　 range:NSMakeRange(0, value.length)];
　  　 
　  　 
　  　 if(numberofMatch >0) {
　  　 //1：校验码的计算方法 身份证号码17位数分别乘以不同的系数。从第一位到第十七位的系数分别为：7－9－10－5－8－4－2－1－6－3－7－9－10－5－8－4－2。将这17位数字和系数相乘的结果相加。
　  　 
　  　 int S = [value substringWithRange:NSMakeRange(0,1)].intValue*7 + [value substringWithRange:NSMakeRange(10,1)].intValue *7 + [value substringWithRange:NSMakeRange(1,1)].intValue*9 + [value substringWithRange:NSMakeRange(11,1)].intValue *9 + [value substringWithRange:NSMakeRange(2,1)].intValue*10 + [value substringWithRange:NSMakeRange(12,1)].intValue *10 + [value substringWithRange:NSMakeRange(3,1)].intValue*5 + [value substringWithRange:NSMakeRange(13,1)].intValue *5 + [value substringWithRange:NSMakeRange(4,1)].intValue*8 + [value substringWithRange:NSMakeRange(14,1)].intValue *8 + [value substringWithRange:NSMakeRange(5,1)].intValue*4 + [value substringWithRange:NSMakeRange(15,1)].intValue *4 + [value substringWithRange:NSMakeRange(6,1)].intValue*2 + [value substringWithRange:NSMakeRange(16,1)].intValue *2 + [value substringWithRange:NSMakeRange(7,1)].intValue *1 + [value substringWithRange:NSMakeRange(8,1)].intValue *6 + [value substringWithRange:NSMakeRange(9,1)].intValue *3;
　  　 
　  　 //2：用加出来和除以11，看余数是多少？余数只可能有0－1－2－3－4－5－6－7－8－9－10这11个数字
　  　 int Y = S %11;
　  　 NSString *M =@"F";
　  　 NSString *JYM =@"10X98765432";
　  　 M = [JYM substringWithRange:NSMakeRange(Y,1)];// 3：获取校验位
　  　 
　  　 NSString *lastStr = [value substringWithRange:NSMakeRange(17,1)];
　  　 
　  　 NSLog(@"%@",M);
　  　 NSLog(@"%@",[value substringWithRange:NSMakeRange(17,1)]);
　  　 //4：检测ID的校验位
　  　 if ([lastStr isEqualToString:@"x"]) {
　  　 if ([M isEqualToString:@"X"]) {
　  　 return YES;
　  　 }else{
　  　 
　  　 return NO;
　  　 }
　  　 }else{
　  　 
　  　 if ([M isEqualToString:[value substringWithRange:NSMakeRange(17,1)]]) {
　  　 return YES;
　  　 }else {
　  　 return NO;
　  　 }
　  　 
　  　 }
　  　 
　  　 
　  　 }else {
　  　 return NO;
　  　 }
　  　 default:
　  　 return NO;
　  　 }
　  　 }
</pre>

<h5 id="版本三-（swift）"><a href="#版本三-（swift）" class="headerlink" title="版本三 （swift）"></a>版本三 （swift）</h5><pre>
func isTrueIDNumber(text:String) -> Bool{
　  　 
　  　 var value = text
　  　 
　  　 value = value.trimmingCharacters(in: CharacterSet.whitespacesAndNewlines)
　  　 
　  　 var length : Int = 0
　  　 
　  　 length = value.characters.count
　  　 
　  　 if length != 15 && length != 18{
　  　 //不满足15位和18位，即身份证错误
　  　 return false
　  　 }
　  　 
　  　 // 省份代码
　  　 let areasArray = ["11","12", "13","14", "15","21", "22","23", "31","32", "33","34", "35","36", "37","41", "42","43", "44","45", "46","50", "51","52", "53","54", "61","62", "63","64", "65","71", "81","82", "91"]
　  　 
　  　 // 检测省份身份行政区代码
　  　 let index = value.index(value.startIndex, offsetBy: 2)
　  　 let valueStart2 = value.substring(to: index)
　  　 
　  　 //标识省份代码是否正确
　  　 var areaFlag = false
　  　 
　  　 for areaCode in areasArray {
　  　 
　  　 if areaCode == valueStart2 {
　  　 areaFlag = true
　  　 break
　  　 }
　  　 }
　  　 
　  　 if !areaFlag {
　  　 return false
　  　 }
　  　 
　  　 var regularExpression : NSRegularExpression?
　  　 
　  　 var numberofMatch : Int?
　  　 
　  　 var year = 0
　  　 
　  　 switch length {
　  　 case 15:
　  　 
　  　 //获取年份对应的数字
　  　 let valueNSStr = value as NSString
　  　 
　  　 let yearStr = valueNSStr.substring(with: NSRange.init(location: 6, length: 2)) as NSString
　  　 
　  　 year = yearStr.integerValue + 1900
　  　 
　  　 if year % 4 == 0 || (year % 100 == 0 && year % 4 == 0) {
　  　 //创建正则表达式 NSRegularExpressionCaseInsensitive：不区分字母大小写的模式
　  　 //测试出生日期的合法性
　  　 regularExpression = try! NSRegularExpression.init(pattern: "^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$", options: NSRegularExpression.Options.caseInsensitive)
　  　 }else{
　  　 
　  　 //测试出生日期的合法性
　  　 regularExpression = try! NSRegularExpression.init(pattern: "^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$", options: NSRegularExpression.Options.caseInsensitive)
　  　 }
　  　 
　  　 numberofMatch = regularExpression?.numberOfMatches(in: value, options: NSRegularExpression.MatchingOptions.reportProgress, range: NSRange.init(location: 0, length: value.characters.count))
　  　 
　  　 if numberofMatch! > 0 {
　  　 return true
　  　 }else{
　  　 
　  　 return false
　  　 }
　  　 
　  　 case 18:
　  　 
　  　 let valueNSStr = value as NSString
　  　 
　  　 let yearStr = valueNSStr.substring(with: NSRange.init(location: 6, length: 4)) as NSString
　  　 
　  　 year = yearStr.integerValue
　  　 
　  　 if year % 4 == 0 || (year % 100 == 0 && year % 4 == 0) {
　  　 
　  　 //测试出生日期的合法性
　  　 regularExpression = try! NSRegularExpression.init(pattern: "^((1[1-5])|(2[1-3])|(3[1-7])|(4[1-6])|(5[0-4])|(6[1-5])|71|(8[12])|91)\\d{4}(((19|20)\\d{2}(0[13-9]|1[012])(0[1-9]|[12]\\d|30))|((19|20)\\d{2}(0[13578]|1[02])31)|((19|20)\\d{2}02(0[1-9]|1\\d|2[0-8]))|((19|20)([13579][26]|[2468][048]|0[048])0229))\\d{3}(\\d|X|x)?$", options: NSRegularExpression.Options.caseInsensitive)
　  　 
　  　 }else{
　  　 
　  　 //测试出生日期的合法性
　  　 regularExpression = try! NSRegularExpression.init(pattern: "^((1[1-5])|(2[1-3])|(3[1-7])|(4[1-6])|(5[0-4])|(6[1-5])|71|(8[12])|91)\\d{4}(((19|20)\\d{2}(0[13-9]|1[012])(0[1-9]|[12]\\d|30))|((19|20)\\d{2}(0[13578]|1[02])31)|((19|20)\\d{2}02(0[1-9]|1\\d|2[0-8]))|((19|20)([13579][26]|[2468][048]|0[048])0229))\\d{3}(\\d|X|x)?$", options: NSRegularExpression.Options.caseInsensitive)
　  　 }
　  　 
　  　 numberofMatch = regularExpression?.numberOfMatches(in: value, options: NSRegularExpression.MatchingOptions.reportProgress, range: NSRange.init(location: 0, length: value.characters.count))
　  　 
　  　 if numberofMatch! > 0 {
　  　 
　  　 let a = getStringByRangeIntValue(Str: valueNSStr, location: 0, length: 1) * 7
　  　 
　  　 let b = getStringByRangeIntValue(Str: valueNSStr, location: 10, length: 1) * 7
　  　 
　  　 let c = getStringByRangeIntValue(Str: valueNSStr, location: 1, length: 1) * 9
　  　 
　  　 let d = getStringByRangeIntValue(Str: valueNSStr, location: 11, length: 1) * 9
　  　 
　  　 let e = getStringByRangeIntValue(Str: valueNSStr, location: 2, length: 1) * 10
　  　 
　  　 let f = getStringByRangeIntValue(Str: valueNSStr, location: 12, length: 1) * 10
　  　 
　  　 let g = getStringByRangeIntValue(Str: valueNSStr, location: 3, length: 1) * 5
　  　 
　  　 let h = getStringByRangeIntValue(Str: valueNSStr, location: 13, length: 1) * 5
　  　 
　  　 let i = getStringByRangeIntValue(Str: valueNSStr, location: 4, length: 1) * 8
　  　 
　  　 let j = getStringByRangeIntValue(Str: valueNSStr, location: 14, length: 1) * 8
　  　 
　  　 let k = getStringByRangeIntValue(Str: valueNSStr, location: 5, length: 1) * 4
　  　 
　  　 let l = getStringByRangeIntValue(Str: valueNSStr, location: 15, length: 1) * 4
　  　 
　  　 let m = getStringByRangeIntValue(Str: valueNSStr, location: 6, length: 1) * 2
　  　 
　  　 let n = getStringByRangeIntValue(Str: valueNSStr, location: 16, length: 1) * 2
　  　 
　  　 let o = getStringByRangeIntValue(Str: valueNSStr, location: 7, length: 1) * 1
　  　 
　  　 let p = getStringByRangeIntValue(Str: valueNSStr, location: 8, length: 1) * 6
　  　 
　  　 let q = getStringByRangeIntValue(Str: valueNSStr, location: 9, length: 1) * 3
　  　 
　  　 let S = a + b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q
　  　 
　  　 let Y = S % 11
　  　 
　  　 var M = "F"
　  　 
　  　 let JYM = "10X98765432"
　  　 
　  　 M = (JYM as NSString).substring(with: NSRange.init(location: Y, length: 1))
　  　 
　  　 let lastStr = valueNSStr.substring(with: NSRange.init(location: 17, length: 1))
　  　 
　  　 if lastStr == "x" {
　  　 if M == "X" {
　  　 return true
　  　 }else{
　  　 
　  　 return false
　  　 }
　  　 }else{
　  　 
　  　 if M == lastStr {
　  　 return true
　  　 }else{
　  　 
　  　 return false
　  　 }
　  　 }
　  　 }else{
　  　 
　  　 return false
　  　 }
　  　 
　  　 default:
　  　 return false
　  　 }
　  　 }
　  　 
　  　 func getStringByRangeIntValue(Str : NSString,location : Int, length : Int) -> Int{
　  　 
　  　 let a = Str.substring(with: NSRange(location: location, length: length))
　  　 
　  　 let intValue = (a as NSString).integerValue
　  　 
　  　 return intValue
　  　 }
</pre>

<h4 id="车型"><a href="#车型" class="headerlink" title="车型"></a>车型</h4><pre>

- (BOOL)validateCarType {  
    NSString *regex2 = @"^[\\u4E00-\\u9FFF]+$";  
    return [self isValidateByRegex:regex2];  
}
</pre>

<h4 id="判断是否有特殊符号"><a href="#判断是否有特殊符号" class="headerlink" title="判断是否有特殊符号"></a>判断是否有特殊符号</h4><pre>
- (BOOL)effectivePassword {  
    NSString *regex2 = @"[a-zA-Z0-9]{6,20};  
    return [self isValidateByRegex:regex2];  
} 
</pre>

<h4 id="密码是否有效"><a href="#密码是否有效" class="headerlink" title="密码是否有效"></a>密码是否有效</h4><pre>
- (BOOL)isValidPassword {  
    //以字母开头，只能包含“字母”，“数字”，“下划线”，长度6~18  
    NSString *regex = @"^([a-zA-Z]|[a-zA-Z0-9_]|[0-9]){6,18}$";  
    return [self isValidateByRegex:regex];  
}
</pre>

<h4 id="密码指定规则"><a href="#密码指定规则" class="headerlink" title="密码指定规则"></a>密码指定规则</h4><pre>

</pre>


<h4 id="车牌号的有效性验证"><a href="#车牌号的有效性验证" class="headerlink" title="车牌号的有效性验证"></a>车牌号的有效性验证</h4><pre>
- (BOOL)isCarNumber {  
    //车牌号:湘K-DE829 香港车牌号码:粤Z-J499港  
    NSString *carRegex = @"^[\\u4e00-\\u9fff]{1}[a-zA-Z]{1}[-][a-zA-Z_0-9]{4}[a-zA-Z_0-9_\\u4e00-\\u9fff]$";//其中\\u4e00-\\u9fa5表示unicode编码中汉字已编码部分，\\u9fa5-\\u9fff是保留部分，将来可能会添加  
    return [self isValidateByRegex:carRegex];  
}  
</pre>

<h4 id="IP地址有效性"><a href="#IP地址有效性" class="headerlink" title="IP地址有效性"></a>IP地址有效性</h4><pre>
- (BOOL)isIPAddress {  
    NSString *regex = [NSString stringWithFormat:@"^(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})$"];  
    BOOL rc = [self isValidateByRegex:regex];  

    if (rc) {  
        NSArray *componds = [self componentsSeparatedByString:@","];  

        BOOL v = YES;  
        for (NSString *s in componds) {  
            if (s.integerValue > 255) {  
                v = NO;  
                break;  
            }  
        }  

        return v;  
    }  

    return NO;  
} 
</pre>

<h4 id="Mac地址有效性"><a href="#Mac地址有效性" class="headerlink" title="Mac地址有效性"></a>Mac地址有效性</h4><pre>
- (BOOL)isMacAddress {  
    NSString * macAddRegex = @"([A-Fa-f\\\\d]{2}:){5}[A-Fa-f\\\\d]{2}";  
    return  [self isValidateByRegex:macAddRegex];  
}
</pre>

<h4 id="是否纯汉字"><a href="#是否纯汉字" class="headerlink" title="是否纯汉字"></a>是否纯汉字</h4><pre>
- (BOOL)isValidChinese {  
    NSString *chineseRegex = @"^[\\u4e00-\\u9fa5]+$";  
    return [self isValidateByRegex:chineseRegex];  
} 
</pre>

<h4 id="是否邮政编码"><a href="#是否邮政编码" class="headerlink" title="是否邮政编码"></a>是否邮政编码</h4><pre>
- (BOOL)isValidPostalcode {  
    NSString *postalRegex = @"^[0-8]\\\\d{5}(?!\\\\d)$";  
    return [self isValidateByRegex:postalRegex];  
}  
</pre>

<h4 id="是否工商税号"><a href="#是否工商税号" class="headerlink" title="是否工商税号"></a>是否工商税号</h4><pre>
- (BOOL)isValidTaxNo {  
    NSString *taxNoRegex = @"[0-9]\\\\d{13}([0-9]|X)$";  
    return [self isValidateByRegex:taxNoRegex];  
}  
</pre>


</=exp)></name></y></x></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://xubojoy.cn/2017/12/23/iOS-常用正则表达式/" data-id="cjs1eneix00292ks64oqiag1s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ios/">ios</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/12/23/iOS-常用正则表达式-二/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iOS 常用正则表达式(二)
        
      </div>
    </a>
  
  
    <a href="/2017/12/20/使用ZipArchive对文件压缩/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">使用ZipArchive对文件压缩</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ios/">ios</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器/">服务器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/">ios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活/">生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Python/" style="font-size: 13.33px;">Python</a> <a href="/tags/ios/" style="font-size: 20px;">ios</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/服务器/" style="font-size: 16.67px;">服务器</a> <a href="/tags/生活/" style="font-size: 16.67px;">生活</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/29/新年来场与-面试-有关的约会/">新年来场与&#39;面试&#39;有关的约会</a>
          </li>
        
          <li>
            <a href="/2019/01/01/写在2019年的开端/">写在2019年的开端</a>
          </li>
        
          <li>
            <a href="/2018/11/27/解决Xcode10-import不提示问题/">解决Xcode10 #import不提示问题</a>
          </li>
        
          <li>
            <a href="/2018/11/01/使用shell脚本打包IPA，导出并上传到蒲公英/">使用shell脚本打包IPA，导出并上传到蒲公英</a>
          </li>
        
          <li>
            <a href="/2018/08/13/SDWebImage原理和缓存机制/">SDWebImage原理和缓存机制</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 枫林飘雪<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>